# 클린 아키텍처

## 아키텍처의 목적
<br/>

> *그것은 세부사항이 해야 할 일이다.*

<br/>

- **프레임워크로부터의 독립**

프레임워크의 제약사항을 시스템 전체에 강제하지 않는다.

- **용이한 테스트**

업무규칙은 독립적으로 테스트할 수 있어야 한다.

- **UI 독립성**

UI의 변경은 업무 규칙에 영향을 주지 않는다.

- **데이터베이스 독립성**

데이터베이스의 변경은 업무 규칙에 영향을 주지 않는다.

- **외부 세계와의 독립성**

외부 세계의 일은 업무 규칙에 영향을 주지 않는다.

<br/><br/>

<div align="center">
  <img src="./1-diagram.svg" width="500"/>
  <br/><br/>
  <p><em><b>소스 코드 의존성은 안쪽으로, 고수준의 정책을 향해야 한다.</b></em><p/>
  <p><em>꼭 원이 4개일 필요는 없다.</em><p/>
</div>

- **엔티티**

핵심 업무 규칙

- **유스케이스**

애플리케이션에 특화된 업무 규칙

- **인터페이스 어댑터**

데이터를 유스케이스가 사용하는 형식에서 외부 에이전시가 사용하는 형식으로, 또는 그 반대로 변환한다.

MVC, MVVM 등의 디자인 패턴에서 Presenter, View Model, Controller 등을 포함한다.

- **프레임워크와 드라이버**

데이터베이스와 웹 프레임워크 등의 세부사항들


### 경계 횡단

<div align="center">
  <img src="./2.svg" width="500"/>
  <br/><br/>
  <p><em><b>제어 흐름이 고수준 정책을 향한다면 의존성을 역전해라.</b></em><p/>
</div>

<br/>

경계를 가로지르는 데이터 구조는 **데이터베이스의 데이터 구조를 그대로 사용하지 말라**.

우리는 내부의 원에서 외부의 원에 속하는 데이터베이스의 어느 것도 몰라야 한다.

### 전형적인 시나리오

<div align="center">
  <img src="https://user-images.githubusercontent.com/63982863/179379735-3657adce-e1a6-4575-a69a-a704edde285a.jpg" />
  <p><em><b>모든 의존성은 경계선을 안쪽으로 가로지른다.</b></em><p/>
</div>

이 다이어그램은 <b>ECB<sub>Entity-Control-Boundary</sub></b>와 <b>MVP<sub>Model-View-Presenter</sub></b>를 섞어 쓰는 것으로 보인다.

ECB에서 Boundary는 외부와의 상호작용을 캡슐화한다. ECB에서 Controller은 원래 유스케이스 계층에 속해 Boundary와 Entity를 중재하는 역할을 하지만, 여기에서는 Use Case Interactor가 이 Controller의 역할을 한다.


---

# 질의응답

```text
지인:

대답: (PR에서 suggest로 커밋하기 편하게 질문 작성 후 이 구문은 지워주세요 ㅎㅎ)
```

```text
하진:

대답: (PR에서 suggest로 커밋하기 편하게 질문 작성 후 이 구문은 지워주세요 ㅎㅎ)
```

```text
진영:

대답: (PR에서 suggest로 커밋하기 편하게 질문 작성 후 이 구문은 지워주세요 ㅎㅎ)
```

```text
규훤:

대답: (PR에서 suggest로 커밋하기 편하게 질문 작성 후 이 구문은 지워주세요 ㅎㅎ)
```

```text
천규:

대답: (PR에서 suggest로 커밋하기 편하게 질문 작성 후 이 구문은 지워주세요 ㅎㅎ)
```

```text
준우:

대답: (PR에서 suggest로 커밋하기 편하게 질문 작성 후 이 구문은 지워주세요 ㅎㅎ)
```

```text
이영:

대답: (PR에서 suggest로 커밋하기 편하게 질문 작성 후 이 구문은 지워주세요 ㅎㅎ)
```

```text
영재:

대답: (PR에서 suggest로 커밋하기 편하게 질문 작성 후 이 구문은 지워주세요 ㅎㅎ)
```

```text
가온:

대답: (PR에서 suggest로 커밋하기 편하게 질문 작성 후 이 구문은 지워주세요 ㅎㅎ)
```
